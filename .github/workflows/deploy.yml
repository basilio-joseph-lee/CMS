name: Deploy to Hostinger

on:
  push:
    branches: [ "main" ]

jobs:
  ftp-deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Deploy via FTP
        uses: SamKirkland/FTP-Deploy-Action@v4.3.5
        with:
          server:   ${{ secrets.FTP_HOST }}    # e.g. ftp://185.232.14.135 or ftp.yourdomain.com
          username: ${{ secrets.FTP_USER }}
          password: ${{ secrets.FTP_PASS }}
          port:     ${{ secrets.FTP_PORT }}    # 21 on your screenshot
          protocol: ftps                       # encrypted
          timeout:  60000

          # Your FTP home IS public_html, so "/" == public_html
          server-dir: /                        # ‚Üê THIS is the key change

          # Repo root contains the code
          local-dir: ./

          log-level: verbose

          # Turn ON for the first fixed deploy; turn OFF afterwards
          dangerous-clean-slate: true

          exclude:
            - .git*
            - .github/**
            - node_modules/**          # not needed for native PHP
            - **/.DS_Store
            - **/README.md
          include:
            - .htaccess
